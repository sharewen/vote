<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.indihx.elecvote.dao.VoteTopicInfoMapper">
  <resultMap id="BaseResultMap" type="com.indihx.elecvote.entity.VoteTopicInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    <id column="TOPIC_ID" jdbcType="DECIMAL" property="topicId" />
    <result column="TOPIC_NAME" jdbcType="VARCHAR" property="topicName" />
    <result column="TOPIC_CONTENT" jdbcType="VARCHAR" property="topicContent" />
    <result column="SUM_HS" jdbcType="DECIMAL" property="sumHs" />
    <result column="SUM_AREA" jdbcType="DECIMAL" property="sumArea" />
    <result column="VOTE_START_DATE" jdbcType="VARCHAR" property="voteStartDate" />
    <result column="VOTE_END_DATE" jdbcType="VARCHAR" property="voteEndDate" />
    <result column="VOTE_STATUS" jdbcType="VARCHAR" property="voteStatus" />
    <result column="REMARK" jdbcType="VARCHAR" property="remark" />
    <result column="APPLY_NAME" jdbcType="VARCHAR" property="applyName" />
    <result column="LINK_PHONE" jdbcType="VARCHAR" property="linkPhone" />
    <result column="USER_ID" jdbcType="VARCHAR" property="userId" />
    <result column="ORG_ID" jdbcType="VARCHAR" property="orgId" />
    <result column="ORG_NAME" jdbcType="VARCHAR" property="orgName" />
    <result column="CREATE_DATE" jdbcType="VARCHAR" property="createDate" />
    <result column="CREATE_TIME" jdbcType="VARCHAR" property="createTime" />
    <result column="LINK_FLAG" jdbcType="VARCHAR" property="linkFlag" />
    <result column="WS_ID" jdbcType="DECIMAL" property="wsId" />
    <result column="SECT_ID" jdbcType="DECIMAL" property="sectId" />
    <result	column="EFFECTIVE_STATUS" jdbcType="VARCHAR" property="effectiveStatus"/>
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    TOPIC_ID, TOPIC_NAME, TOPIC_CONTENT, SUM_HS, SUM_AREA, VOTE_START_DATE, VOTE_END_DATE, 
    VOTE_STATUS, REMARK, APPLY_NAME, LINK_PHONE, USER_ID, ORG_ID, ORG_NAME, CREATE_DATE, 
    CREATE_TIME, LINK_FLAG, WS_ID, SECT_ID,EFFECTIVE_STATUS
  </sql>
  <select id="selectByExample" parameterType="com.indihx.elecvote.entity.VoteTopicInfoExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from VOTE_TOPIC_INFO
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectUnvotedByOpenId" parameterType="java.lang.String" resultMap="BaseResultMap">
  	select <include refid="Base_Column_List" />
    from VOTE_TOPIC_INFO where topic_id in (select topic_id from vote_scope_info where topic_id not in 
    (select topic_id from vote_result_Info where user_id = #{openId, jdbcType=VARCHAR})  and 
    info_id in (select info_id from vote_apply_info where user_id = #{openId, jdbcType=VARCHAR}))
     and vote_status = '03' and effective_status = '00'
  </select>
  <select id="selectVotedByOpenId" parameterType="java.lang.String" resultMap="BaseResultMap">
  	select <include refid="Base_Column_List" />
    from VOTE_TOPIC_INFO where topic_id in (select topic_id from vote_scope_info where topic_id in 
    (select topic_id from vote_result_Info where user_id = #{openId, jdbcType=VARCHAR}) and 
    info_id in (select info_id from vote_apply_info where user_id = #{openId, jdbcType=VARCHAR})) 
    and effective_status = '00'
  </select>
  <select id="selectByPrimaryKey" parameterType="java.math.BigDecimal" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    select 
    <include refid="Base_Column_List" />
    from VOTE_TOPIC_INFO
    where TOPIC_ID = #{topicId,jdbcType=DECIMAL}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.math.BigDecimal">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    delete from VOTE_TOPIC_INFO
    where TOPIC_ID = #{topicId,jdbcType=DECIMAL}
  </delete>
  <delete id="deleteByExample" parameterType="com.indihx.elecvote.entity.VoteTopicInfoExample">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    delete from VOTE_TOPIC_INFO
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.indihx.elecvote.entity.VoteTopicInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    insert into VOTE_TOPIC_INFO (TOPIC_ID, TOPIC_NAME, TOPIC_CONTENT, 
      SUM_HS, SUM_AREA, VOTE_START_DATE, 
      VOTE_END_DATE, VOTE_STATUS, REMARK, 
      APPLY_NAME, LINK_PHONE, USER_ID, 
      ORG_ID, ORG_NAME, CREATE_DATE, 
      CREATE_TIME, LINK_FLAG, WS_ID, 
      SECT_ID, EFFECTIVE_STATUS)
    values (#{topicId,jdbcType=DECIMAL}, #{topicName,jdbcType=VARCHAR}, #{topicContent,jdbcType=VARCHAR}, 
      #{sumHs,jdbcType=DECIMAL}, #{sumArea,jdbcType=DECIMAL}, #{voteStartDate,jdbcType=VARCHAR}, 
      #{voteEndDate,jdbcType=VARCHAR}, #{voteStatus,jdbcType=VARCHAR}, #{remark,jdbcType=VARCHAR}, 
      #{applyName,jdbcType=VARCHAR}, #{linkPhone,jdbcType=VARCHAR}, #{userId,jdbcType=VARCHAR}, 
      #{orgId,jdbcType=VARCHAR}, #{orgName,jdbcType=VARCHAR}, #{createDate,jdbcType=VARCHAR}, 
      #{createTime,jdbcType=VARCHAR}, #{linkFlag,jdbcType=VARCHAR}, #{wsId,jdbcType=DECIMAL}, 
      #{sectId,jdbcType=DECIMAL}, #{effectiveStatus,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.indihx.elecvote.entity.VoteTopicInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    insert into VOTE_TOPIC_INFO
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="topicId != null">
        TOPIC_ID,
      </if>
      <if test="topicName != null">
        TOPIC_NAME,
      </if>
      <if test="topicContent != null">
        TOPIC_CONTENT,
      </if>
      <if test="sumHs != null">
        SUM_HS,
      </if>
      <if test="sumArea != null">
        SUM_AREA,
      </if>
      <if test="voteStartDate != null">
        VOTE_START_DATE,
      </if>
      <if test="voteEndDate != null">
        VOTE_END_DATE,
      </if>
      <if test="voteStatus != null">
        VOTE_STATUS,
      </if>
      <if test="remark != null">
        REMARK,
      </if>
      <if test="applyName != null">
        APPLY_NAME,
      </if>
      <if test="linkPhone != null">
        LINK_PHONE,
      </if>
      <if test="userId != null">
        USER_ID,
      </if>
      <if test="orgId != null">
        ORG_ID,
      </if>
      <if test="orgName != null">
        ORG_NAME,
      </if>
      <if test="createDate != null">
        CREATE_DATE,
      </if>
      <if test="createTime != null">
        CREATE_TIME,
      </if>
      <if test="linkFlag != null">
        LINK_FLAG,
      </if>
      <if test="wsId != null">
        WS_ID,
      </if>
      <if test="sectId != null">
        SECT_ID,
      </if>
      <if test="effectiveStatus != null">
      	EFFECTIVE_STATUS,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="topicId != null">
        #{topicId,jdbcType=DECIMAL},
      </if>
      <if test="topicName != null">
        #{topicName,jdbcType=VARCHAR},
      </if>
      <if test="topicContent != null">
        #{topicContent,jdbcType=VARCHAR},
      </if>
      <if test="sumHs != null">
        #{sumHs,jdbcType=DECIMAL},
      </if>
      <if test="sumArea != null">
        #{sumArea,jdbcType=DECIMAL},
      </if>
      <if test="voteStartDate != null">
        #{voteStartDate,jdbcType=VARCHAR},
      </if>
      <if test="voteEndDate != null">
        #{voteEndDate,jdbcType=VARCHAR},
      </if>
      <if test="voteStatus != null">
        #{voteStatus,jdbcType=VARCHAR},
      </if>
      <if test="remark != null">
        #{remark,jdbcType=VARCHAR},
      </if>
      <if test="applyName != null">
        #{applyName,jdbcType=VARCHAR},
      </if>
      <if test="linkPhone != null">
        #{linkPhone,jdbcType=VARCHAR},
      </if>
      <if test="userId != null">
        #{userId,jdbcType=VARCHAR},
      </if>
      <if test="orgId != null">
        #{orgId,jdbcType=VARCHAR},
      </if>
      <if test="orgName != null">
        #{orgName,jdbcType=VARCHAR},
      </if>
      <if test="createDate != null">
        #{createDate,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=VARCHAR},
      </if>
      <if test="linkFlag != null">
        #{linkFlag,jdbcType=VARCHAR},
      </if>
      <if test="wsId != null">
        #{wsId,jdbcType=DECIMAL},
      </if>
      <if test="sectId != null">
        #{sectId,jdbcType=DECIMAL},
      </if>
      <if test="effectiveStatus != null">
      	#{effectiveStatus, jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.indihx.elecvote.entity.VoteTopicInfoExample" resultType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    select count(*) from VOTE_TOPIC_INFO
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    update VOTE_TOPIC_INFO
    <set>
      <if test="record.topicId != null">
        TOPIC_ID = #{record.topicId,jdbcType=DECIMAL},
      </if>
      <if test="record.topicName != null">
        TOPIC_NAME = #{record.topicName,jdbcType=VARCHAR},
      </if>
      <if test="record.topicContent != null">
        TOPIC_CONTENT = #{record.topicContent,jdbcType=VARCHAR},
      </if>
      <if test="record.sumHs != null">
        SUM_HS = #{record.sumHs,jdbcType=DECIMAL},
      </if>
      <if test="record.sumArea != null">
        SUM_AREA = #{record.sumArea,jdbcType=DECIMAL},
      </if>
      <if test="record.voteStartDate != null">
        VOTE_START_DATE = #{record.voteStartDate,jdbcType=VARCHAR},
      </if>
      <if test="record.voteEndDate != null">
        VOTE_END_DATE = #{record.voteEndDate,jdbcType=VARCHAR},
      </if>
      <if test="record.voteStatus != null">
        VOTE_STATUS = #{record.voteStatus,jdbcType=VARCHAR},
      </if>
      <if test="record.remark != null">
        REMARK = #{record.remark,jdbcType=VARCHAR},
      </if>
      <if test="record.applyName != null">
        APPLY_NAME = #{record.applyName,jdbcType=VARCHAR},
      </if>
      <if test="record.linkPhone != null">
        LINK_PHONE = #{record.linkPhone,jdbcType=VARCHAR},
      </if>
      <if test="record.userId != null">
        USER_ID = #{record.userId,jdbcType=VARCHAR},
      </if>
      <if test="record.orgId != null">
        ORG_ID = #{record.orgId,jdbcType=VARCHAR},
      </if>
      <if test="record.orgName != null">
        ORG_NAME = #{record.orgName,jdbcType=VARCHAR},
      </if>
      <if test="record.createDate != null">
        CREATE_DATE = #{record.createDate,jdbcType=VARCHAR},
      </if>
      <if test="record.createTime != null">
        CREATE_TIME = #{record.createTime,jdbcType=VARCHAR},
      </if>
      <if test="record.linkFlag != null">
        LINK_FLAG = #{record.linkFlag,jdbcType=VARCHAR},
      </if>
      <if test="record.wsId != null">
        WS_ID = #{record.wsId,jdbcType=DECIMAL},
      </if>
      <if test="record.sectId != null">
        SECT_ID = #{record.sectId,jdbcType=DECIMAL},
      </if>
      <if test="record.effectiveStatus != null">
      	EFFECTIVE_STATUS = #{record.effectiveStatus, jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    update VOTE_TOPIC_INFO
    set TOPIC_ID = #{record.topicId,jdbcType=DECIMAL},
      TOPIC_NAME = #{record.topicName,jdbcType=VARCHAR},
      TOPIC_CONTENT = #{record.topicContent,jdbcType=VARCHAR},
      SUM_HS = #{record.sumHs,jdbcType=DECIMAL},
      SUM_AREA = #{record.sumArea,jdbcType=DECIMAL},
      VOTE_START_DATE = #{record.voteStartDate,jdbcType=VARCHAR},
      VOTE_END_DATE = #{record.voteEndDate,jdbcType=VARCHAR},
      VOTE_STATUS = #{record.voteStatus,jdbcType=VARCHAR},
      REMARK = #{record.remark,jdbcType=VARCHAR},
      APPLY_NAME = #{record.applyName,jdbcType=VARCHAR},
      LINK_PHONE = #{record.linkPhone,jdbcType=VARCHAR},
      USER_ID = #{record.userId,jdbcType=VARCHAR},
      ORG_ID = #{record.orgId,jdbcType=VARCHAR},
      ORG_NAME = #{record.orgName,jdbcType=VARCHAR},
      CREATE_DATE = #{record.createDate,jdbcType=VARCHAR},
      CREATE_TIME = #{record.createTime,jdbcType=VARCHAR},
      LINK_FLAG = #{record.linkFlag,jdbcType=VARCHAR},
      WS_ID = #{record.wsId,jdbcType=DECIMAL},
      SECT_ID = #{record.sectId,jdbcType=DECIMAL},
      EFFECTIVE_STATUS = #{record.effectiveStatus, jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.indihx.elecvote.entity.VoteTopicInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    update VOTE_TOPIC_INFO
    <set>
      <if test="topicName != null">
        TOPIC_NAME = #{topicName,jdbcType=VARCHAR},
      </if>
      <if test="topicContent != null">
        TOPIC_CONTENT = #{topicContent,jdbcType=VARCHAR},
      </if>
      <if test="sumHs != null">
        SUM_HS = #{sumHs,jdbcType=DECIMAL},
      </if>
      <if test="sumArea != null">
        SUM_AREA = #{sumArea,jdbcType=DECIMAL},
      </if>
      <if test="voteStartDate != null">
        VOTE_START_DATE = #{voteStartDate,jdbcType=VARCHAR},
      </if>
      <if test="voteEndDate != null">
        VOTE_END_DATE = #{voteEndDate,jdbcType=VARCHAR},
      </if>
      <if test="voteStatus != null">
        VOTE_STATUS = #{voteStatus,jdbcType=VARCHAR},
      </if>
      <if test="remark != null">
        REMARK = #{remark,jdbcType=VARCHAR},
      </if>
      <if test="applyName != null">
        APPLY_NAME = #{applyName,jdbcType=VARCHAR},
      </if>
      <if test="linkPhone != null">
        LINK_PHONE = #{linkPhone,jdbcType=VARCHAR},
      </if>
      <if test="userId != null">
        USER_ID = #{userId,jdbcType=VARCHAR},
      </if>
      <if test="orgId != null">
        ORG_ID = #{orgId,jdbcType=VARCHAR},
      </if>
      <if test="orgName != null">
        ORG_NAME = #{orgName,jdbcType=VARCHAR},
      </if>
      <if test="createDate != null">
        CREATE_DATE = #{createDate,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null">
        CREATE_TIME = #{createTime,jdbcType=VARCHAR},
      </if>
      <if test="linkFlag != null">
        LINK_FLAG = #{linkFlag,jdbcType=VARCHAR},
      </if>
      <if test="wsId != null">
        WS_ID = #{wsId,jdbcType=DECIMAL},
      </if>
      <if test="sectId != null">
        SECT_ID = #{sectId,jdbcType=DECIMAL},
      </if>
      <if test="effectiveStatus != null">
      	EFFECTIVE_STATUS = #{effectiveStatus, jdbcType=VARCHAR}
      </if>
    </set>
    where TOPIC_ID = #{topicId,jdbcType=DECIMAL}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.indihx.elecvote.entity.VoteTopicInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 12 18:41:26 CST 2018.
    -->
    update VOTE_TOPIC_INFO
    set TOPIC_NAME = #{topicName,jdbcType=VARCHAR},
      TOPIC_CONTENT = #{topicContent,jdbcType=VARCHAR},
      SUM_HS = #{sumHs,jdbcType=DECIMAL},
      SUM_AREA = #{sumArea,jdbcType=DECIMAL},
      VOTE_START_DATE = #{voteStartDate,jdbcType=VARCHAR},
      VOTE_END_DATE = #{voteEndDate,jdbcType=VARCHAR},
      VOTE_STATUS = #{voteStatus,jdbcType=VARCHAR},
      REMARK = #{remark,jdbcType=VARCHAR},
      APPLY_NAME = #{applyName,jdbcType=VARCHAR},
      LINK_PHONE = #{linkPhone,jdbcType=VARCHAR},
      USER_ID = #{userId,jdbcType=VARCHAR},
      ORG_ID = #{orgId,jdbcType=VARCHAR},
      ORG_NAME = #{orgName,jdbcType=VARCHAR},
      CREATE_DATE = #{createDate,jdbcType=VARCHAR},
      CREATE_TIME = #{createTime,jdbcType=VARCHAR},
      LINK_FLAG = #{linkFlag,jdbcType=VARCHAR},
      WS_ID = #{wsId,jdbcType=DECIMAL},
      SECT_ID = #{sectId,jdbcType=DECIMAL},
      EFFECTIVE_STATUS = #{effectiveStatus, jdbcType=VARCHAR}
    where TOPIC_ID = #{topicId,jdbcType=DECIMAL}
  </update>
</mapper>